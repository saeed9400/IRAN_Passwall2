<br>
<p align="center">
# نسخه دوم : در حال آماده سازی می باشد و بعد از تکمیل همینجا منتشر خواهد شد
<br>
<hr style="border: 1px solid #ccc; margin: 40px 0;">
<p align="center">
  <a href="https://saeed9400.github.io/IRAN_Passwall2/">
    <strong style="font-size: 1.6em; color: #0066cc; letter-spacing: 0.8px;">
      ► نسخه وب صفحه – IRAN Passwall2 ◄
    </strong>
    <br><br>
    <img src="https://github.com/user-attachments/assets/c92044ae-3565-410d-9a6c-eabf1e2bd694"
         alt="Iran Passwall2 – نصب هوشمند با تفکیک ترافیک داخلی"
         style="max-width: 100%; height: auto; border-radius: 16px; box-shadow: 0 12px 32px rgba(0,0,0,0.2); border: 1px solid #e0e0e0;">
  </a>
</p>

<br>

<div align="center" style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); padding: 28px; border-radius: 16px; margin: 28px 0; font-size: 1.2em;">
  <strong>نصب خودکار PassWall2 • تفکیک هوشمند ترافیک داخلی • بهینه برای شبکه‌های ایران</strong>
</div>

<br>

## درباره :

پروژه **Iran Passwall2** یک راه‌حل مستقل و کاملاً ایران‌محور برای نصب و راه‌اندازی **PassWall2** روی روترهای **OpenWrt** است.

**مزیت اصلی :**  
شما می‌توانید همزمان از اینترنت بدون فیلتر برای سایت‌های **داخلی ایران** استفاده کنید و پروکسی/VPN را فقط برای ترافیک خارجی فعال نگه دارید.

در صفحه تنظیمات PassWall2 وضعیت تفکیک ترافیک، اتصال اینترنت و عملکرد به‌صورت زنده نمایش داده می‌شود.

اسکریپت همیشه آخرین نسخه **رسمی و پایدار** را از منابع اصلی دانلود و نصب می‌کند.

### مقایسه دو نسخه

<div align="center">
  <table style="width: 92%; max-width: 1000px; border-collapse: separate; border-spacing: 20px; margin: 24px auto;">
    <tr>
      <th style="background:#e3f2fd; padding:20px; border-radius:14px; font-size:1.2em; width:46%;">
        نسخه v1 – پایه و کلاسیک
      </th>
      <th style="background:#e8f5e9; padding:20px; border-radius:14px; font-size:1.2em; width:46%; border: 2px solid #4caf50;">
        نسخه v2 – مقاوم و پیشنهادی (بهترین انتخاب ۲۰۲۶)
      </th>
    </tr>
    <tr>
      <td style="background:#f8fbff; padding:20px; border-radius:12px; vertical-align:top;">
        • مناسب اینترنت پایدار و بدون محدودیت<br>
        • نصب مستقیم از مخازن رسمی<br>
        • تفکیک استاندارد ترافیک داخلی<br>
        • تنظیم منطقه زمانی تهران + DNS عمومی<br>
        • قواعد مسیریابی پایه<br>
        • بنر اختصاصی ایرانی<br><br>
        <div align="center">
          <a href="https://github.com/saeed9400/IRAN_Passwall2/tree/main/v1">→ دانلود و مشاهده v1</a>
        </div>
      </td>
      <td style="background:#f9fff9; padding:20px; border-radius:12px; vertical-align:top;">
        • طراحی شده برای اینترنت محدود و ناپایدار ایران<br>
        • بررسی چندلایه اتصال (پینگ + DNS + HTTPS)<br>
        • اولویت نصب از مخزن رسمی<br>
        • فال‌بک به گیت‌هاب در صورت محدودیت<br>
        • فال‌بک به مخزن ایرانی در شرایط سخت‌تر<br>
        • فقط در قطعی کامل اینترنت نصب نمی‌شود<br><br>
        <div align="center">
          <strong><a href="https://github.com/saeed9400/IRAN_Passwall2/tree/main/v2">→ دانلود و مشاهده v2 (پیشنهادی)</a></strong>
        </div>
      </td>
    </tr>
  </table>
</div>

## امکانات :

- نصب PassWall2 از منابع معتبر  
- تفکیک دقیق ترافیک داخلی ایران از ترافیک خارجی  
- پایگاه داده کامل GeoIP و Geosite ویژه ایران  
- تنظیم منطقه زمانی تهران و DNS مطمئن  
- قواعد مسیریابی هوشمند داخلی ↔ بین‌المللی  
- پشتیبانی کامل از Shunt nodes برای کنترل دستی  
- بنر اختصاصی، زیبا و کاربردی برای کاربران ایرانی  

## پیش‌نیازها

- روتر با فریمور OpenWrt (ترجیحاً نسخه 23.05 یا جدیدتر)  
- اتصال اینترنت فعال روی روتر  
- دسترسی root از طریق SSH  

## نکات مهم

✓ روتر حتماً باید به اینترنت متصل باشد  
✓ قبل از اجرا **بکاپ کامل** از تنظیمات فعلی بگیرید  
✓ این پروژه فقط برای **استفاده شخصی و غیرتجاری** آزاد است  

<br>

<br>

<hr style="border: 1px solid #ccc; margin: 40px 0;">

<br>

<p align="center">
  <a href="https://saeed9400.github.io/IRAN_Passwall2/">
    <strong style="font-size: 1.6em; color: #0066cc;">
      ► Project Page – Iran Passwall2 ◄
    </strong>
    <br><br>
    <img src="https://github.com/user-attachments/assets/c92044ae-3565-410d-9a6c-eabf1e2bd694"
         alt="Iran Passwall2 – Smart Installation with Domestic Traffic Separation"
         style="max-width: 100%; height: auto; border-radius: 16px; box-shadow: 0 12px 32px rgba(0,0,0,0.2); border: 1px solid #e0e0e0;">
  </a>
</p>

<br>

<div align="center" style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); padding: 28px; border-radius: 16px; margin: 28px 0; font-size: 1.2em;">
  <strong>Automatic PassWall2 Installation • Smart Traffic Separation • Optimized for Iranian Networks</strong>
</div>

<br>

## Project Overview

**Iran Passwall2** is a fully independent, Iran-focused solution for installing and configuring **PassWall2** on **OpenWrt** firmware.

**Main Advantage:**  
Seamless access to Iranian domestic websites and services while keeping proxy/VPN active for international traffic.

Real-time monitoring of traffic separation, connection quality, and performance is available in the PassWall2 interface.

The script always installs the **latest official stable release**.

### Two Distinct Versions

<div align="center">
  <table style="width: 92%; max-width: 1000px; border-collapse: separate; border-spacing: 20px; margin: 24px auto;">
    <tr>
      <th style="background:#e3f2fd; padding:20px; border-radius:14px; font-size:1.2em; width:46%;">
        Version v1 – Classic & Lightweight
      </th>
      <th style="background:#e8f5e9; padding:20px; border-radius:14px; font-size:1.2em; width:46%; border: 2px solid #4caf50;">
        Version v2 – Resilient & Recommended (2026)
      </th>
    </tr>
    <tr>
      <td style="background:#f8fbff; padding:20px; border-radius:12px; vertical-align:top;">
        • Best for stable connections<br>
        • Direct install from official repos<br>
        • Standard domestic traffic separation<br>
        • Tehran timezone + public DNS<br>
        • Basic smart routing<br>
        • Custom Iranian banner<br><br>
        <div align="center">
          <a href="https://github.com/saeed9400/IRAN_Passwall2/tree/main/v1">→ View / Download v1</a>
        </div>
      </td>
      <td style="background:#f9fff9; padding:20px; border-radius:12px; vertical-align:top;">
        • Designed for restricted/unstable Iranian internet<br>
        • Multi-layer connection check (ping + DNS + HTTPS)<br>
        • Priority: official repositories<br>
        • Fallback to GitHub on restriction<br>
        • Fallback to Iranian mirror in severe cases<br>
        • Fails only on complete internet outage<br><br>
        <div align="center">
          <strong><a href="https://github.com/saeed9400/IRAN_Passwall2/tree/main/v2">→ View / Download v2 (Recommended)</a></strong>
        </div>
      </td>
    </tr>
  </table>
</div>

## Key Features

- PassWall2 installation from official sources only  
- Precise separation of Iranian domestic vs international traffic  
- Full up-to-date GeoIP + Geosite database for Iran  
- Automatic Tehran timezone and reliable DNS setup  
- Intelligent routing rules (domestic ↔ global)  
- Full support for Shunt nodes with manual control  
- Custom, beautiful and practical banner for Iranian users  

## Minimum Requirements

- Router with OpenWrt firmware (preferably 23.05 or newer)  
- Active internet connection on the router  
- Root access via SSH  

## Important Notes

✓ Router must be connected to the internet  
✓ Take a **full backup** of current settings before running  
✓ For **personal, non-commercial use** only  

<br>

<br>
